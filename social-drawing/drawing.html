<html><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<title>
Social Drawing
</title></head><body><header>
<style>
 body {
     margin: 0;
 }

  #main {
      padding: 10px;
  }

 #toolbar {
      float: left;
 }
  #color-pallette {
      width: 50;
      height: 350;
      border: 1px solid black;
      float: left;
      padding: 2px;
      margin: 2px;
  }

.color-block-class {
    width: 50px;
    height: 50px;
    float: left;
    position:relative;
    left: 0px;
    top: 0px;
}

#color1 {
    background-color: #ECFC00;
    position:relative;
    left: 0px;
    top: 0px;
}

#color2 {
    background-color: #34D800;
    position:relative;
}

#color3 {
    background-color: #EB3B88;
    position:relative;
}

#color4 {
    background-color: #9240D5;
    position:relative;
}

#color5 {
    background-color: #F60018;
    width: 50px;
    height: 50px;
    position:relative;
}


#color6 {
    background-color: cyan;
    position:relative;
}

#color7 {
    background-color: black;
    position:relative;
}

  #credit {
    font:8px arial,sans-serif;
    margin: 2px;
  }
  </style>
  </header>

<div id="main">

  <div id="toolbar"
    <div id="color-pallette">
      
      <div id="color1" class="color-block-class">
      </div>
      <div id="color2" class="color-block-class">
      </div>
      <div id="color3" class="color-block-class">
      </div>
      <div id="color4" class="color-block-class">
      </div>
      <div id="color5" class="color-block-class">
      </div>
      <div id="color6" class="color-block-class">
      </div>
      <div id="color7" class="color-block-class">
      </div>
    </div>
    <div id="credit">
      Tony & Cate T.
    </div>
</div>

<canvas id="canvas" width="800" height="650">
</canvas>
</div>
<script>
var ctx;
var penDown = false;
var neonColor = Array(
                      '#ECFC00', /* yellow */
                      '#34D800', /* green */
                      '#EB3B88', /* pink */
                      '#9240D5', 
                      '#F60018',
                      'cyan'
                      );
  
function init_pallett()
{
}
function init()
{  
    var mouseX;
    var mouseY;
    var canvas = document.getElementById("canvas");
    var color_pallette = document.getElementById("color-pallette");
    
    if (canvas && canvas.getContext)
        {
            ctx = canvas.getContext("2d");
            canvas.addEventListener("mousemove", onMouseMove, false);
            canvas.addEventListener("mousedown", onMouseDown, false);
            canvas.addEventListener("mouseup", onMouseUp, false);
            /* TODO even listening for the color pallette */

            var colorPicker = document.getElementById('color1');
            colorPicker.addEventListener("mousedown", pickColorMouseDown, false);

            colorPicker = document.getElementById('color2');
            colorPicker.addEventListener("mousedown", pickColorMouseDown, false);

            colorPicker = document.getElementById('color3');
            colorPicker.addEventListener("mousedown", pickColorMouseDown, false);

            colorPicker = document.getElementById('color4');
            colorPicker.addEventListener("mousedown", pickColorMouseDown, false);

            colorPicker = document.getElementById('color5');
            colorPicker.addEventListener("mousedown", pickColorMouseDown, false);

            colorPicker = document.getElementById('color6');
            colorPicker.addEventListener("mousedown", pickColorMouseDown, false);

            var radial = ctx.createRadialGradient(370, 60, 0, 370, 60, 70);
            ctx.strokeStyle = 'black';
            ctx.lineWidth = 0.5;
            ctx.lineCap = 'round';
            ctx.lineJoin = 'round';

            // rectangle frame
            ctx.beginPath();
            ctx.moveTo(1,1)

            ctx.lineTo(800,1);
            ctx.lineTo(800, 650);

            ctx.lineTo(1,650);
            ctx.lineTo(1,1);
            ctx.stroke();

            ctx.closePath();

        }
}
var currentStrokeStyle = 'black';
function pickColorMouseDown(e)
{
   if (window.getComputedStyle)
   {
       currentStrokeStyle = window.getComputedStyle(this,null).getPropertyValue('background-color');
   } 
}

     function randomRgb() {
            // create the rgb string
            var col =  "rgb("
            + randomColor(255) + ","
            + randomColor(255) + ","
            + randomColor(255) + ")";
           return col;
       }


        function randomColor(num) {          
            return Math.floor(Math.random() * num);
        }     


onload = init;
var mouseDownX;
var mouseDownY;
function onMouseMove(e)
{
    if (penDown) {
        mouseX = e.clientX-canvas.offsetLeft;
        mouseY = e.clientY-canvas.offsetTop;
       //        ctx.strokeStyle = '#9240D5';

        ctx.lineWidth = 3.0
        ctx.beginPath();
        ctx.beginPath();
        ctx.moveTo(mouseDownX, mouseDownY);
        ctx.lineCap = 'round';
        ctx.lineJoin = 'round';
        ctx.strokeStyle = currentStrokeStyle;
        ctx.lineTo(mouseX, mouseY);
        ctx.stroke();
        ctx.closePath();

    }
}
function onMouseUp(e)
{
    penDown = false;
}

function onMouseDown(e)
{
    penDown = true;
    mouseDownX = e.clientX-canvas.offsetLeft;
    mouseDownY = e.clientY-canvas.offsetLeft;
}
</script>
    </body></html>
